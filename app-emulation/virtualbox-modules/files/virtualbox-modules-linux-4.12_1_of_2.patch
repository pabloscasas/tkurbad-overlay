diff -ru3 vbox-kernel-module-src-5.1.22.old/vboxdrv/include/iprt/string.h vbox-kernel-module-src-5.1.22/vboxdrv/include/iprt/string.h
--- vbox-kernel-module-src-5.1.22.old/vboxdrv/include/iprt/string.h	2017-04-05 16:52:55.000000000 +0300
+++ vbox-kernel-module-src-5.1.22/vboxdrv/include/iprt/string.h	2017-07-05 01:25:52.712343705 +0300
@@ -32,11 +32,7 @@
 #include <iprt/stdarg.h>
 #include <iprt/err.h> /* for VINF_SUCCESS */
 #if defined(RT_OS_LINUX) && defined(__KERNEL__)
-  RT_C_DECLS_BEGIN
-# define new newhack /* string.h: strreplace */
 # include <linux/string.h>
-# undef new
-  RT_C_DECLS_END
 
 #elif defined(IN_XF86_MODULE) && !defined(NO_ANSIC)
   RT_C_DECLS_BEGIN
diff -ru3 vbox-kernel-module-src-5.1.22.old/vboxnetadp/include/iprt/string.h vbox-kernel-module-src-5.1.22/vboxnetadp/include/iprt/string.h
--- vbox-kernel-module-src-5.1.22.old/vboxnetadp/include/iprt/string.h	2017-04-05 16:52:55.000000000 +0300
+++ vbox-kernel-module-src-5.1.22/vboxnetadp/include/iprt/string.h	2017-07-05 01:25:52.712343705 +0300
@@ -32,11 +32,7 @@
 #include <iprt/stdarg.h>
 #include <iprt/err.h> /* for VINF_SUCCESS */
 #if defined(RT_OS_LINUX) && defined(__KERNEL__)
-  RT_C_DECLS_BEGIN
-# define new newhack /* string.h: strreplace */
 # include <linux/string.h>
-# undef new
-  RT_C_DECLS_END
 
 #elif defined(IN_XF86_MODULE) && !defined(NO_ANSIC)
   RT_C_DECLS_BEGIN
diff -ru3 vbox-kernel-module-src-5.1.22.old/vboxnetflt/include/iprt/string.h vbox-kernel-module-src-5.1.22/vboxnetflt/include/iprt/string.h
--- vbox-kernel-module-src-5.1.22.old/vboxnetflt/include/iprt/string.h	2017-04-05 16:52:55.000000000 +0300
+++ vbox-kernel-module-src-5.1.22/vboxnetflt/include/iprt/string.h	2017-07-05 01:25:52.712343705 +0300
@@ -32,11 +32,7 @@
 #include <iprt/stdarg.h>
 #include <iprt/err.h> /* for VINF_SUCCESS */
 #if defined(RT_OS_LINUX) && defined(__KERNEL__)
-  RT_C_DECLS_BEGIN
-# define new newhack /* string.h: strreplace */
 # include <linux/string.h>
-# undef new
-  RT_C_DECLS_END
 
 #elif defined(IN_XF86_MODULE) && !defined(NO_ANSIC)
   RT_C_DECLS_BEGIN
diff -ru3 vbox-kernel-module-src-5.1.22.old/vboxpci/include/iprt/string.h vbox-kernel-module-src-5.1.22/vboxpci/include/iprt/string.h
--- vbox-kernel-module-src-5.1.22.old/vboxpci/include/iprt/string.h	2017-04-05 16:52:55.000000000 +0300
+++ vbox-kernel-module-src-5.1.22/vboxpci/include/iprt/string.h	2017-07-05 01:25:52.712343705 +0300
@@ -32,11 +32,7 @@
 #include <iprt/stdarg.h>
 #include <iprt/err.h> /* for VINF_SUCCESS */
 #if defined(RT_OS_LINUX) && defined(__KERNEL__)
-  RT_C_DECLS_BEGIN
-# define new newhack /* string.h: strreplace */
 # include <linux/string.h>
-# undef new
-  RT_C_DECLS_END
 
 #elif defined(IN_XF86_MODULE) && !defined(NO_ANSIC)
   RT_C_DECLS_BEGIN
